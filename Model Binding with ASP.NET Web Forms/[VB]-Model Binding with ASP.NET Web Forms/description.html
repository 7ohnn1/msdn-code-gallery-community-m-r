<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,0:HeaderFooterSprite,0:Header.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=C9973DA951AE6202C9B348379A1BE49D" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/9e116645-9d9a-4566-82a8-7b29a5b324f1Combined.css,0:HeaderFooterSprite,0:Footer.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=F576C687BC536B84D6E5B3246EE39B49" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Model Binding with ASP.NET Web Forms</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Model Binding with ASP.NET Web Forms</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            ADO.NET Entity Framework, ASP.NET, Entity Framework, ASP.NET Web Forms
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Data Binding, Data Access, Unit Testing, Repository Pattern, Code First, ASP.NET Code Sample Downloads
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Web
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">2/27/2014</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">Apache License, Version 2.0</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Model-Binding-with-ASPNET-b49014d2">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p><em>This sample project accompanies the <a title="Model Binding and Web Forms" href="http://go.microsoft.com/fwlink/?LinkId=286117">
Model Binding and Web Forms</a> tutorial series. The tutorial series describes the steps to create this project.</em></p>
<p>This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project. Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource). This series
 starts with introductory material and moves to more advanced concepts in later tutorials.</p>
<p>The model binding pattern works with any data access technology. In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you. From a data-bound server control, such as a GridView, ListView, DetailsView,
 or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</p>
<p>This tutorial covers how to use model binding to:</p>
<ol>
<li>retrieve data </li><li>update, delete and create data </li><li>sort, page and filter data </li><li>integrate JQuery UI widgets </li><li>retrieve data based on a query string value </li><li>add business logic layer </li><li>add unit tests </li></ol>
<h1><span>Prerequisites</span></h1>
<p>This downloadable code works with either Visual Studio 2012 or Visual Studio 2013. Unzip the zip file into your Visual Studio Projects directory (My Documents\Visual Studio 2012 [or 2013]\Projects) and open the ContosoUniversity.sln solution.</p>
<p><strong>Install NuGet packages</strong></p>
<p>The NuGet packages that are not installed by default in a Web Forms project were not included in this project. You must manually install those packages for the project to work correctly. To install the packages, in the Package Manager Console, run:</p>
<p>install-package JuiceUI<br>
install-package DynamicDataTemplatesCS (or DynamicDataTemplatesVB)<br>
install-package ASPNet.ScriptManager.jQuery -Version 1.8.3<br>
install-package ASPNet.ScriptManager.jQuery.UI.Combined -Version 1.9.2</p>
<p><strong>Edit the DateTime_Edit.ascx file</strong></p>
<p>The dynamic data template package that was installed in the previous step must be edited to include the popup calender. This change is explained in the
<a href="http://go.microsoft.com/fwlink/?LinkId=286118">Integrating JQuery UI Datepicker with model binding and web forms</a> topic. Open DateTime_Edit.ascx file, and add the following line above the TextBox element:</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>HTML</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">html</span>
<pre class="hidden">&lt;juice:Datepicker ID=&quot;t1&quot; TargetControlID=&quot;TextBox1&quot; MinDate=&quot;1/1/2013&quot; runat=&quot;server&quot; /&gt;</pre>
<div class="preview">
<pre class="xaml"><span class="xaml__tag_start">&lt;juice</span>:Datepicker&nbsp;<span class="xaml__attr_name">ID</span>=<span class="xaml__attr_value">&quot;t1&quot;</span>&nbsp;<span class="xaml__attr_name">TargetControlID</span>=<span class="xaml__attr_value">&quot;TextBox1&quot;</span>&nbsp;<span class="xaml__attr_name">MinDate</span>=<span class="xaml__attr_value">&quot;1/1/2013&quot;</span>&nbsp;<span class="xaml__attr_name">runat</span>=<span class="xaml__attr_value">&quot;server&quot;</span>&nbsp;<span class="xaml__tag_start">/&gt;</span></pre>
</div>
</div>
</div>
<p>Open DateTime_Edit.ascx.cs file and add the following code to the Page_Load method:</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>Visual Basic</span><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">vb</span><span class="hidden">csharp</span>
<pre class="hidden">Dim ra = CType(Column.Attributes(GetType(RangeAttribute)), RangeAttribute)
If Not ra Is Nothing Then
    t1.MinDate = ra.Minimum.ToString()
    t1.MaxDate = ra.Maximum.ToString()
End If</pre>
<pre class="hidden">RangeAttribute ra = (RangeAttribute)Column.Attributes[typeof(RangeAttribute)];
if (ra != null)
{
    t1.MinDate = ra.Minimum.ToString();
    t1.MaxDate = ra.Maximum.ToString();
}</pre>
<div class="preview">
<pre class="vb"><span class="visualBasic__keyword">Dim</span>&nbsp;ra&nbsp;=&nbsp;<span class="visualBasic__keyword">CType</span>(Column.Attributes(<span class="visualBasic__keyword">GetType</span>(RangeAttribute)),&nbsp;RangeAttribute)&nbsp;
<span class="visualBasic__keyword">If</span>&nbsp;<span class="visualBasic__keyword">Not</span>&nbsp;ra&nbsp;<span class="visualBasic__keyword">Is</span>&nbsp;<span class="visualBasic__keyword">Nothing</span>&nbsp;<span class="visualBasic__keyword">Then</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;t1.MinDate&nbsp;=&nbsp;ra.Minimum.ToString()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;t1.MaxDate&nbsp;=&nbsp;ra.Maximum.ToString()&nbsp;
<span class="visualBasic__keyword">End</span>&nbsp;<span class="visualBasic__keyword">If</span></pre>
</div>
</div>
</div>
<p>The project is now ready to run. Press Ctrl&#43;F5 to run without debugging.</p>
<h1><em>&nbsp;</em></h1>
<p><span style="font-family:Consolas; font-size:x-small"><span style="font-family:Consolas; font-size:x-small">&nbsp;</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family:Consolas; font-size:x-small"><span style="font-family:Consolas; font-size:x-small">&nbsp;</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family:Consolas; font-size:x-small">&nbsp;</span></p>
<p><span style="color:#0000ff; font-family:Consolas; font-size:x-small"><span style="color:#0000ff; font-family:Consolas; font-size:x-small">&nbsp;</span></span></p>

</div>


    </div>
</body>
</html>
