<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,0:HeaderFooterSprite,0:Header.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=C9973DA951AE6202C9B348379A1BE49D" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/9e116645-9d9a-4566-82a8-7b29a5b324f1Combined.css,0:HeaderFooterSprite,0:Footer.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=F576C687BC536B84D6E5B3246EE39B49" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Model View Presenter clean implementation</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Model View Presenter clean implementation</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            C#, ASP.NET, Inversion of Control / Dependency Injection, Dependency Injection, Inversion of Control, Observer Pattern
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Architecture and Design, Patterns and Practices, Model View Presenter (MVP)
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Web, Data
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">2/5/2013</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">Apache License, Version 2.0</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Model-View-Presenter-clean-d33ee8d1">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p><em>This is a simple MVP in an ASP.NET application. It separates visual display logic from data procurement logic. in MVP Model-View-Presenter, View has the task of displaying data. Presenter is concerned about getting the relevant data for view. Model is
 a repository in MVP. </em></p>
<h1><span>Building the Sample</span></h1>
<p><em>Visual Studio 2010 required to open solution file available with the code sample.&nbsp;You can alternatively add projects in sample code to an earlier version of Visual Studio solution to&nbsp;make it run in case you don't have VS2010. It is built using
 3.5 .NET framework. Framework 2.0 will also work if you change&nbsp;the sample&nbsp;code accordingly.&nbsp;</em></p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p>Goal of using MVP pattern is to separate the responsibilities of application so that application code is :-<br>
&bull; Code is testable using&nbsp;test frameworks&nbsp;<br>
&bull; Application is more maintainable <br>
&bull; Application is more extensible</p>
<p>Using MVP you can seperate View from Presenter. The responsibility of View is to display data while Presenter has to prepare data for the View.&nbsp;View will raise requests to serve data and Presenter honors those&nbsp;request.</p>
<p>Presenter and View&nbsp;know each other only through the contract which is implemented&nbsp;by View. View requests are served based on the contract it has implemented. A Presenter can serve multiple Views.&nbsp;&nbsp;&nbsp;</p>
<p>Presenter's talks to the model (Database) through Business API&nbsp;to pull&nbsp;required data as per the requested contract.&nbsp;The&nbsp;Presenter functionality can be tested by&nbsp;mocking up views that raises request and is served by Presenter.</p>
<p>&nbsp;</p>
<p><strong>View</strong>: A view is any form or window that represents UI&nbsp;of the application.</p>
<p><strong>Presenter</strong>: The presenter is an entity that presents the data to the view that is to be shown to the user.</p>
<p><strong>Model</strong>: The model is the actual data that the Presenter will request and gets displayed in the View. The Model is responsible for obtaining the data.</p>
<p><img id="59984" src="description/MVP.jpg" alt=""></p>
<p>&nbsp;</p>
<p>The attached sample code contains four projects:-</p>
<p>1. Service</p>
<p>2. Presenter</p>
<p>3. EModel</p>
<p>4. Views</p>
<p>&nbsp;</p>
<p>The Service project provides a dummy implementation of back end. It represents how the backend will provide data to the front end. In MVP it is paying role of Model. Service provides an API GetPersons for a given criteria. This returns a collection of Person
 type.</p>
<p>&nbsp;</p>
<p>The EModel project represents Enterprise model classes. These are light weight objects to be used between the app server and the web server communication. The service serves EModel class and not the business classes which is not shown in the sample.</p>
<p>The business or domain object will have lot more attributes along with behavior while EModel class Person is just a container object and a DTO on service tier would populate it To and From business object.</p>
<p>&nbsp;</p>
<p>Presenter listens to View. It provides initial data required by the view. When view raises a request it is handled by presenter which talks to the service and provides the requested data.</p>
<p><img id="60079" src="description/ClassDiagram1.bmp" alt=""></p>
<p>I hope you find it as easy and understandable implementation.</p>

</div>


    </div>
</body>
</html>
